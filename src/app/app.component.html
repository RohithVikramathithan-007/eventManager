<mat-toolbar color="primary" *ngIf="isAuthenticated()">
  <span>Event Manager</span>
  <span class="spacer"></span>
  <button mat-button routerLink="/calendar" routerLinkActive="active">
    <mat-icon>calendar_today</mat-icon>
    Calendar
  </button>
  <button mat-button routerLink="/preferences" routerLinkActive="active">
    <mat-icon>settings</mat-icon>
    Preferences
  </button>
  <button mat-button routerLink="/admin" routerLinkActive="active" *ngIf="isAdmin()">
    <mat-icon>admin_panel_settings</mat-icon>
    Admin
  </button>
  
  <!-- Notifications -->
  <div class="notifications-container" [matTooltip]="getNotificationTooltip()">
    <button mat-icon-button class="notification-button" (click)="toggleNotifications()">
      <mat-icon [class.has-notifications]="hasNotifications()">notifications</mat-icon>
      <span class="notification-badge" *ngIf="notificationCount > 0">{{ notificationCount }}</span>
    </button>
    <div class="notification-messages" *ngIf="showNotificationDropdown && hasNotifications()">
      <div *ngFor="let notification of notifications" class="notification-item" [class.cancelled]="notification.type === 'cancelled'" [class.rescheduled]="notification.type === 'rescheduled'">
        <mat-icon>{{ notification.type === 'cancelled' ? 'cancel' : 'event_repeat' }}</mat-icon>
        <span>{{ notification.message }}</span>
      </div>
    </div>
  </div>
  
  <div class="user-info">
    <span class="username">{{ getUsername() }}</span>
    <button mat-icon-button (click)="logout()" matTooltip="Logout">
      <mat-icon>logout</mat-icon>
    </button>
  </div>
</mat-toolbar>

<div class="content">
  <router-outlet></router-outlet>
</div>
